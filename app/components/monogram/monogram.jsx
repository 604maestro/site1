import { forwardRef, useId } from 'react';
import { classes } from '~/utils/style';
import styles from './monogram.module.css';

export const Monogram = forwardRef(({ highlight, className, ...props }, ref) => {
  const id = useId();
  const clipId = `${id}monogram-clip`;

  return (
    <svg
      aria-hidden
      className={classes(styles.monogram, className)}
      width="48"
      height="29"
      viewBox="0 0 49 29"
      ref={ref}
      {...props}
    >
      <defs>
        <clipPath id={clipId}>
          <path d="M0.157123 30L0 29.8342C1.51885 27.0718 2.98534 24.2265 4.39944 21.2983C5.81355 18.3702 7.25384 15.3591 8.72032 12.2652C9.29644 11.0497 9.9773 9.53039 10.7629 7.70718C11.6009 5.88398 12.5436 3.7569 13.5911 1.32597H13.7483C14.1149 1.60221 14.5339 1.74033 15.0052 1.74033C16.1051 1.74033 17.3097 1.21547 18.6191 0.165746L18.7762 0L18.6976 0.165746H18.6191C18.2524 0.939227 17.5716 2.29282 16.5765 4.22652C15.6337 6.10497 14.4029 8.59116 12.8841 11.6851C17.1788 4.50276 20.7664 0.911604 23.647 0.911604C25.5848 0.911604 26.5538 1.87845 26.5538 3.81216C26.5538 5.41437 25.8991 7.76243 24.5897 10.8564C25.6896 9.25414 26.6061 7.9558 27.3394 6.96133C28.0726 5.9116 28.6226 5.19337 28.9892 4.80663C31.1889 2.32044 33.1529 1.07735 34.8813 1.07735C37.1334 1.07735 38.2594 2.23757 38.2594 4.55801C38.2594 6.27072 37.8404 8.01105 37.0024 9.77901C36.2168 11.4917 35.2741 13.232 34.1742 15C33.0744 16.7127 32.0793 18.4254 31.1889 20.1381C30.7699 21.0221 30.3771 21.9613 30.0105 22.9558C29.6962 23.895 29.5391 24.7514 29.5391 25.5249C29.5391 26.2431 29.7486 26.8508 30.1676 27.3481C30.5866 27.7901 31.2936 28.011 32.2888 28.011C33.022 28.011 33.729 27.8729 34.4099 27.5967C35.0908 27.2652 35.6931 26.9061 36.2168 26.5193C37.6309 25.3591 38.8355 24.0055 39.8307 22.4586C40.8258 20.9116 41.6899 19.3646 42.4232 17.8177C43.1564 16.2707 43.8111 14.9724 44.3872 13.9227C44.5443 13.6464 44.7015 13.5635 44.8586 13.674C45.0157 13.7293 45.0419 13.895 44.9371 14.1713C43.8897 16.4917 42.7374 18.8674 41.4804 21.2983C40.2235 23.7293 38.626 25.663 36.6882 27.0994C36.0073 27.5967 35.2479 28.011 34.4099 28.3425C33.6243 28.674 32.7863 28.8398 31.896 28.8398C30.0628 28.8398 28.7273 28.4254 27.8893 27.5967C27.1037 26.7127 26.7109 25.5801 26.7109 24.1989C26.7109 23.2044 26.9204 21.9889 27.3394 20.5525C27.6536 19.558 28.0464 18.5083 28.5178 17.4033C29.0416 16.2431 29.6962 15 30.4818 13.674C33.2577 8.81215 34.6456 5.66298 34.6456 4.22652C34.6456 3.28729 34.2528 2.81768 33.4672 2.81768C31.2675 2.81768 28.0726 6.43646 23.8827 13.674C22.5733 15.884 21.3163 18.2044 20.1117 20.6354C18.9071 23.011 17.7025 25.4972 16.4979 28.0939H16.3408C15.9742 27.9834 15.6337 27.9006 15.3195 27.8453C15.0052 27.7901 14.7172 27.7624 14.4553 27.7624C12.8841 27.7624 11.9413 28.3425 11.6271 29.5028L11.3914 29.337C13.3816 25.6906 14.9529 22.7901 16.1051 20.6354C17.2573 18.4807 18.0168 17.0718 18.3834 16.4088C21.7353 9.66851 23.4113 5.35912 23.4113 3.48067C23.4113 2.65194 23.1233 2.23757 22.5471 2.23757C20.3998 2.23757 17.1788 5.93923 12.8841 13.3425C10.0559 18.1492 7.51571 23.0939 5.26362 28.1768L5.10649 28.2597C4.42563 27.9834 3.82332 27.8453 3.29958 27.8453C2.40922 27.8453 1.67598 28.2044 1.09986 28.9226C0.576117 29.6409 0.261872 30 0.157123 30Z"/>
        </clipPath>
      </defs>
      <rect clipPath={`url(#${clipId})`} width="100%" height="100%" />
      {highlight && (
        <g clipPath={`url(#${clipId})`}>
          <rect className={styles.highlight} width="100%" height="100%" />
        </g>
      )}
    </svg>
  );
});
